<%- model_class = News::Post -%>
  <section class="section">
    <h1 class="section-header"><%= "Noticias" %></h1>
    <%= link_to "Nueva", new_admin_post_path, class: 'btn btn-primary' %>
    <div class="card">
      <div class="table-responsive-md">
        <table class="table table-hover">
          <thead class="thead">
            <tr>
              <th><%= 'ID' %></th>
              <th><%= 'Título' %></th>
              <th><%= 'Estado' %></th>
              <th><%= 'Fecha Publicación' %></th>
              <th><%= 'Fecha Creación' %></th>
              <th><%= 'Acciones' %></th>
            </tr>
          </thead>
          <tbody>
            <% @posts.each do |post| %>
              <tr>
                <td><%= link_to post.id, admin_post_path(post) %></td>
                <td><%= post.title.truncate(35) %></td>
                <td><%= post.status%></td>
                <td><%= custom_date_no_hour(post.published_at) %></td>
                <td><%= custom_date_no_hour(post.created_at)  %></td>
                <td>
                  <% environment = Rails.env.development? ? 'http://localhost:8080' : 'http://intranet-security-qa-v1.s3-website.us-east-2.amazonaws.com' %>
                                  <%= link_to "Cliente", "#{environment}/#/noticias/#{post.slug}", target: "_blank", class: 'btn btn-success btn-sm' %>
                  <%= link_to t('.show', :default => t("helpers.links.show")),
                              admin_post_path(post), :class => 'btn btn-success btn-sm' %>
                  <%= link_to t('.edit', :default => t("helpers.links.edit")),
                              edit_admin_post_path(post), :class => 'btn btn-primary btn-sm' %>
                  <%= link_to 'Eliminar',
                              admin_post_path(post),
                              :method => :delete,
                              :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Estás seguro?')) },
                              :class => 'btn btn-sm btn-danger', onclick: 'confirm_data()'%>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
        <div class="row justify-content-center">
          <%= will_paginate %>
        </div>
      </div>
    </div>
  </section>