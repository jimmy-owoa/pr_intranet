<%= f.error_notification message: f.object.errors[:author].to_sentence %>
<div class="col-md-12 row pb-4 pt-4" style="background-color: #FbFbFb; border-radius: 25px">
  <div class="wrapper col-md-9">
    <div class="form-group row">
      <div class="col-md-12">
        <%= f.input :title, required: true, autofocus: true, placeholder: 'Ingrese el título aquí', input_html: { class: "border border-dark" } %>
      </div>

			<div class="col-md-4 col-sm-4 pb-4">
				<% selected_author = @book.author.present? ? @book.author.name : nil %>
				<%= f.input 'author_id', label: 'Autor', collection: Library::Author.all.map{|author| author.name}, selected: selected_author, include_blank: 'Seleccione autor', multiple: false, class:' form-control string optional', required: true %>
			</div>

			<div class="col-md-4 col-sm-4 pb-4">
        <% selected_editorial = @book.editorial.present? ? @book.editorial.name : nil %>
        <%= f.input :editorial_id, label: 'Editorial', collection: Library::Editorial.all.map{|editorial| editorial.name}, include_blank: 'Seleccione editorial', selected: selected_editorial, multiple: false, class:' form-control string optional', required: true %>
      </div>

      <div class="col-md-4 col-sm-4 pb-4">
        <% selected_category = @book.category_book.present? ? @book.category_book.name : nil %>
        <%= f.input :category_book_id, label: 'Categoría', collection: Library::CategoryBook.all.map{|category| category.name}, include_blank: 'Seleccione categoría', selected: selected_category, multiple: false, class:' form-control string optional', required: true %>
      </div>

			<div class="col-md-3">
				<%= f.input :edition, label: 'Número Edición',placeholder: 'Ingrese el número de edición aquí', input_html: { class: "border border-dark" } %>
			</div>
			
			<div class="col-md-3">
				<%= f.input :publication_year, label: 'Año de Publicación', placeholder: 'Ingrese el año de publicación aquí', input_html: { class: "border border-dark" } %>
      </div>
      
      <div class="col-md-3">
        <%= f.input :stock, label: 'Unidades Disponibles',required: true, placeholder: 'Ingrese unidades disponibles', input_html: { class: "border border-dark" } %>
      </div>

      <div class="col-md-12" style="margin-bottom: 20px;">
        <%= f.label "Descripción" %>
        <%= f.text_area :description, class: 'tinymce' %>
        <%= tinymce height: "300", :relative_urls => false  %>
      </div>

    </div>
  </div>
  <div class="col-md-3">
    <div class="card text-md-center p-2 wrapper">
      <div class="form-group row">
        <div class="col-md-12 mb-2">
          <% if @book.image.attached? %>
            <%= image_tag @book.image.variant(resize: '150x150>') %>
            <%= f.file_field :image, required: false,input_html: { accept:'image/*' }, class: 'form-control-file' %>
          <% else %>
            <%= f.file_field :image, required: true, input_html: { accept:'image/*' }, class: 'form-control-file' %>
          <% end %>
        </div>

        <div class="col-md-12">
          <%= f.label "Disponible" %>
          <% if f.object.new_record? %>
            <%= f.check_box :available, class: 'post_type', checked: true %>
          <% else %>
            <%= f.check_box :available, class: 'post_type'%>
          <% end %>
        </div>

        <div class="col-md-12">
          <br>
          <%= f.submit nil, :class => 'btn btn-primary btn-block' %>
        </div>
      </div>
    </div>
  </div>
</div>